name: bbsoft-client
imagename: bbsoft-client
namespace: default
service:
  type: ClusterIP
  port: 3000
deployment:
  replica: 1
  imagePullSecrets: 
  - gcr-json-key
  livenessProbe: true
  readinessProbe: true
  resources:
    requests:
      cpu: 10m
      memory: 512Mi
      ephemeral_storage: 512Mi
    limits:
      cpu: "500m"
      ephemeral_storage: 1Gi
      memory: 1Gi
  restartPolicy: Always
  env:
    SECURITY_CORS_ORIGINS: '*, https://game-api-dev.bbsoft.by, https://apigateway-dev.bbsoft.by, https://static-dev.bbsoft.by'
    NEXT_PUBLIC_API_URL: https://apigateway-dev.bbsoft.by/
    NEXT_PUBLIC_STAGE_API_TOLOTO_URL: https://stage-api.toloto.by
    NEXT_PUBLIC_STAGE_ACTIVE_LOTTERY_API_URL: https://stage-active-lottery.toloto.by
ingress:
  enable: true
  annotations:
    kubernetes.io/ingress.class: nginx
    nginx.ingress.kubernetes.io/cors-allow-credentials: "true"
    nginx.ingress.kubernetes.io/cors-allow-methods: PUT, GET, POST, OPTIONS
    nginx.ingress.kubernetes.io/cors-allow-origin: '*'
    nginx.ingress.kubernetes.io/enable-cors: "true"
    nginx.ingress.kubernetes.io/proxy-body-size: 3m
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
  tls:
    - hosts:
      - dev.bbsoft.by
      secretName: default-ssl-secret
  hosts:
  - host: dev.bbsoft.by
    paths:
      - path: /
        pathType: Prefix
hpa:
  enable: true
  minReplicas: 1
  maxReplicas: 2
  targetCPUUtilizationPercentage: 80